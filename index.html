|
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
      integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
      crossorigin="anonymous"
    ></script>
    <title>Document</title>
  </head>
  <!--style="color:#5E7247"-->
  <body class="" style="background-color: #a68e5a;">
    <!--Search toolbar-->

    <nav class="navbar navbar-dark navbar-expand-lg bg-dark mt-0 mb-2 p-1 text-white">
      <img
        src="TheGreenDragon.png"
        width="60"
        height="60"
        class="navbar-brand"
        alt="Responsive image"
      />
      <h1 class="navbar-brand " style="color: #5e7247;">
        <b>Green Dragon</b>
      </h1>
      
      <button
        class="navbar-toggler text-white" 
        type="button"
        data-toggle="collapse"
        data-target="#navbarTogglerDemo02"
        aria-controls="navbarTogglerDemo02"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
        <ul class="navbar-nav  mt-lg-0 align-items-center text-center" >
          <li class="nav-item active">
            <button
              class="btn btn-outline-success my-2 my-sm-0 text-white align-items-center text-center justify-content-center"
              id="random-btn"
              type="submit"
            >
              random
            </button>
          </li>
          <li class="nav-item ">
            <button
              class="btn btn-outline-success  my-2 my-sm-0 text-white align-items-center text-center align-content-center"
              id="mix-btn"
              type="submit"
            >
              mix@home
            </button>
          </li>

        </ul>
        <form class="form-inline my-2 ml-2 my-lg-0 w-100 align-items-center"
          action=""
          onsubmit="return mySubmitFunction(event)"
        >
          <input
            class="form-control mr-sm-2 col-xs-4 w-75"
            style="min-width: 12rem;"
            id="form-input"
            type="search"
            placeholder="digita qui il cocktail che vuoi trovare"
            aria-label="Search"
          />
          <button
            class="btn btn-outline-success my-2 my-sm-0 text-white mr-sm-2"
            id="form-btn"
            type="submit"
          >
            Search
          </button>
          <button
            class="btn btn-outline-success my-2 my-sm-0 text-white"
            id="zap-btn"
            type="submit"
          >
            Zap!
          </button>
        </form>
      </div>
    </nav>

    <!-- <nav
      class="navbar navbar-light bg-dark mt-0 mb-2 p-1 text-white fixed-top align-items-center"
    >
      <img
        src="TheGreenDragon.png"
        width="60"
        height="60"
        class="img-fluid flex-sm-wrap"
        alt="Responsive image"
      />

      <button
        class="btn btn-outline-success my-2 my-sm-0 text-white "
        id="random-btn"
        type="submit"
      >
        random
      </button>
      <button
        class="btn btn-outline-success my-2 my-sm-0 text-white "
        id="mix-btn"
        type="submit"
      >
        mix@home
      </button>
      <h1 class="navbar-brand " style="color: #5e7247;">
        <b>Green Dragon</b>
      </h1>
      <form
        class="d-flex justify-content-start col-6 align-items-center my-2 my-sm-0"
        style="min-width: max-content;"
        action=""
        onsubmit="return mySubmitFunction(event)"
      >
        <input
          class="form-control mr-sm-2 col-xs-4 w-75"
          style="min-width: 12rem;"
          id="form-input"
          type="search"
          placeholder="digita qui il cocktail che vuoi trovare"
          aria-label="Search"
        />
        <button
          class="btn btn-outline-success my-2 my-sm-0 text-white"
          id="form-btn"
          type="submit"
        >
          Search
        </button>
        <button
          class="btn btn-outline-success my-2 my-sm-0 text-white"
          id="zap-btn"
          type="submit"
        >
          Zap!
        </button>
      </form>
    </nav> -->
    <!--RISULTATO DELLA RICERCA (REINDIRIZZARE SU UN'ALTRA PAGINA?)-->
    <!-- <div class="container justify-content-center text-center mt-5">
  </div>-->
    <div
      class="d-flex flex-row flex-wrap"
      style="margin-top: 0px;"
      id="cocktail-search"
    >
      <div class="col-md-12"></div>
    </div>
    <div class="align-items-center" style="margin-top: 57px;">
      <div class="navbar navbar-light bg-dark"></div>
      <div
        class="img-responsive"
        style="
          background-image: url(./cocktailbg1.png);
          background-size: cover;
          background-repeat: no-repeat;
          background-position: center;
        "
      >
        <p class="text-white p-2">
          "Oh you can search far and wide,<br />
          You can drink the whole town dry,<br />
          But you'll never find a beer so brown,<br /><br />

          Oh you'll never find a beer so brown,<br /><br />

          As the one we drink in our hometown,<br />
          As the one we drink in our hometown.<br />
          You can drink your fancy ales,<br />
          You can drink them by the flagon,<br />
          But the only brew for the brave and true...<br />
          ..Comes from the Green Dragon!!"
        </p>
        <div class="navbar navbar-light bg-dark"></div>
      </div>
    </div>
    <!--SEZIONE DEI + RICERCATI-->
    <nav class="navbar navbar-light bg-dark">
      <h3 class="navbar-brand" style="color: #a68e5a;" href="#">
        <img
          src="TheGreenDragon.png"
          width="50"
          height="50"
          class="d-inline-block align-top bg-dark"
          alt=""
        />
        I Cocktail scelti dalla redazione
      </h3>
    </nav>
    <div class="d-flex flex-row flex-wrap">
      <div class="col-md-12"><br /></div>
      <!--card 1-->
      <div class="col-md-3">
        <div class="card-1" style="background-color: white;">
          <div class="card-header-1 text-center bg-dark" style="color: white;">
            <strong>Cocktail</strong>
          </div>
          <div class="card-body">
            <a href="" class="rif-1"
              ><img
                class="img-fluid-1 img-thumbnail"
                src="https://images.unsplash.com/photo-1533841175647-39fea57b86ba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=4b9139ac1d2962230f2840560117782b&auto=format&fit=crop&w=1500&q=80"
            /></a>
          </div>
          <div class="card-instruction-1"></div>
        </div>
      </div>
      <!--card 2-->
      <div class="col-md-3">
        <div class="card-2" style="background-color: white;">
          <div class="card-header-2 text-center bg-dark" style="color: white;">
            <strong>Cocktail</strong>
          </div>
          <div class="card-body">
            <a href="" class="rif-2"
              ><img
                class="img-fluid-2 img-thumbnail"
                src="https://images.unsplash.com/photo-1533841175647-39fea57b86ba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=4b9139ac1d2962230f2840560117782b&auto=format&fit=crop&w=1500&q=80"
            /></a>
          </div>
          <div class="card-instruction-2"></div>
        </div>
      </div>
      <!--card 3-->
      <div class="col-md-3">
        <div class="card-3" style="background-color: white;">
          <div class="card-header-3 text-center bg-dark" style="color: white;">
            <strong>Cocktail</strong>
          </div>
          <div class="card-body">
            <a href="" class="rif-3"
              ><img
                class="img-fluid-3 img-thumbnail"
                src="https://images.unsplash.com/photo-1533841175647-39fea57b86ba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=4b9139ac1d2962230f2840560117782b&auto=format&fit=crop&w=1500&q=80"
            /></a>
          </div>
          <div class="card-instruction-3"></div>
        </div>
      </div>
      <!--card 4-->
      <div class="col-md-3">
        <div class="card-4" style="background-color: white;">
          <div class="card-header-4 text-center bg-dark" style="color: white;">
            <strong>Cocktail</strong>
          </div>
          <div class="card-body">
            <a href="" class="rif-4"
              ><img
                class="img-fluid-4 img-thumbnail"
                src="https://images.unsplash.com/photo-1533841175647-39fea57b86ba?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=4b9139ac1d2962230f2840560117782b&auto=format&fit=crop&w=1500&q=80"
            /></a>
          </div>
          <div class="card-instruction-4"></div>
        </div>
      </div>
    </div>
    <div class="container justify-content-center text-center mt-5"></div>
    <!--FINE HOMEPAGE-->
    <script>
      function popola_cocktail(array) {
        let array_drinks = array.drinks;

        let cocktail_card = "";
        array.drinks.forEach((element) => {
          cocktail_card =
            cocktail_card +
            // `<h1 class="col-md-12">Ecco il risultato della tua ricerca: "`+ form_input + `"</h1>`+
            `<div class="col-md-4 ">` +
            `<div class="card h-100">` +
            `<div class="card-header bg-dark text-white text-center"><strong>Cocktail: ${element.strDrink}</strong>` +
            `</div>` +
            `<div class="card-body">` +
            `<img class="img-fluid"` +
            `src=${element.strDrinkThumb}>` +
            `<div class="card-id">Codice: ${element.idDrink}</div>` +
            `<p class="card-text">${element.strInstructions}</p>` +
            `<hr>` +
            `Ingredienti:` +
            `<div class="text-muted">` +
            ingredients(element) +
            `</div>` +
            `<br>` +
            `</div>` +
            // `<button class="btn btn-square btn-info w-50 mx-auto mb-3" onclick="showDetails(${element.idDrink})"><a href"/details.html:${element.idDrink}">Maggiori info</a></button>` +
            `<button class="btn btn-square btn-info w-50 mx-auto mb-3"><a href="./details?id=${element.idDrink}">Maggiori info</a></button>` +
            `<div class="card-footer">` +
            `<button class="btn btn-success btn-block w-75 mx-auto mb-3">Aggiungilo ai tuoi preferiti!</button>` +
            `</div>` +
            `</div>` +
            `</div>`;
        });
        document.getElementById("cocktail-search").innerHTML = cocktail_card;
        // document.getElementById("cocktail-prova").innerHTML = cocktail_card;
      }

      function ingredients(element) {
        const ingredientsArray = [];
        let x = "";
        for (const prop in element) {
          if (
            prop.includes("strIngredient") &&
            element[prop] !== null &&
            element[prop] !== ""
          ) {
            ingredientsArray.push(element[prop]);
          }
        }
        let ingr_return = ingredientsArray.map((ingredient) => {
          return "<div>" + ingredient + "</div>";
        });
        return ingr_return.join(" ");
      }

      let form_input = document.getElementById("form-input");
      let btn_input = document.getElementById("form-btn");
      let btn_random = document.getElementById("random-btn");
      let btn_zap = document.getElementById("zap-btn");
      let btn_mix = document.getElementById("mix-btn");
      form_input.addEventListener("keyup", function (e) {
        console.log(e.keyCode);
        //document.getElementById("form-btn").click();
      });
      btn_zap.addEventListener("click", () => {
        location.reload();
      });

      btn_input.addEventListener("click", () => {
        axios
          .get(
            "https://www.thecocktaildb.com/api/json/v1/1/search.php?s=" +
              form_input.value
          )
          .then((response) => {
            popola_cocktail(response.data);
            document.getElementById("cocktail-search").style.marginTop =
              "100px";
          });
      });

      btn_random.addEventListener("click", () => {
        location.href = "/random";
      });
      btn_mix.addEventListener("click", () => {
        location.href = "/mix@home";
      });

      function mySubmitFunction(e) {
        e.preventDefault();
        // document.getElementById('form-input').value = " "
        return false;
      }

      function showfavorites() {
        const idfav = [11007, 11008, 11003, 178308];
        let i = 0;
        idfav.forEach((element) => {
          // console.log(element);
          axios
            .get(
              "https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=" +
                element
            )
            .then((response) => {
              i++;
              let drink = response.data.drinks[0];
              console.log(drink);
              let cocktailpref = document.getElementById("card-" + i);
              document.querySelector(".card-header-" + i).textContent =
                drink.strDrink;
              document.querySelector(".img-fluid-" + i).src =
                drink.strDrinkThumb;
              document.querySelector(
                ".rif-" + i
              ).href = `./details?id=${drink.idDrink}`;

              // console.log(cocktailpref);
            });
        });
      }
      showfavorites();
      /*
    function showDetails(idCocktail) {
      alert(idCocktail)
      console.log(idCocktail)
      // let idCocktail = idCocktail
      axios.get("https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=" )
    }
    */
    </script>
  </body>
</html>
